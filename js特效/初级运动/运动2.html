<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>多物体运动</title>
	<style type="text/css">
		#div1{
			width: 100px;height: 200px;background: pink;position: absolute;
			top: 100px;left: -100px;
		}
		#div2{
			width: 30px;
			height: 70px;
			position: absolute;left: 100px;top: 70px;background: black;
			color: white;
			text-align: center;
		}
		#img1{
			margin-left:300px;
			opacity: 0.3;
			filter:alpha(opacity=30);
		}
	</style>
	<script type="text/javascript">
		window.onload=function(){
				var div1 = document.getElementById("div1");
				//var setTime=null;
				div1.onmouseover=function(){
					startMove(this,'left',0,10);
				}
				div1.onmouseout=function(){
					startMove(this,'left',-100,-10);
				}
			
				var img1 = document.getElementById("img1");
				img1.onmouseover=function(){
					startMove(this,'opacity',100,10);
				}
				img1.onmouseout=function(){
					startMove(this,'opacity',30,-10);
				}
				function startMove(obj,attr,target,dir){
					 clearInterval(obj.setTime);
					 var iCur =0;
					 obj.setTime=setInterval(function(){
					 	if(attr=='opacity'){
					 	 	iCur =Math.round(getStyle(obj,'opacity')*100);		
					 	}else{
					 		 iCur =parseInt(getStyle(obj,attr));		
					 	}					 	
					 	if(iCur==target){
					 		clearInterval(obj.setTime);
					 	}else{
					 		if(attr=='opacity'){
						 		img1.style.opacity=(iCur+dir)/100;
						 		img1.style.filter='alpha(opacity='+(iCur+dir)+')';
					 		}else{
					 			obj.style[attr]=iCur+dir+'px';
					 		}
					 		
					 	}
					 },30);
				}
}
				//获取样式的值
	function getStyle ( obj, attr ){ 
		return obj.currentStyle?obj.currentStyle[attr] : getComputedStyle( obj )[attr];
	}
	</script>
</head>
<body>
	<div id="div1">
		<div id="div2">分享到</div>
	</div>
	<img id="img1" src="../images/scenery_16.jpg"/>
</body>
</html>